<!DOCTYPE html>
<html>
<head>
	<title>SwampHacks - Account</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="icon" type="image/png" href="favicon.png">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="css/create-account.css">
	<link rel="stylesheet" type="text/css" href="css/resume.css">
	<link rel="stylesheet" type="text/css" href="css/account.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>
<body>

	<div class="container">
		<section id="image-header">
			<a href="http://swamphacks.com">
				<img class="back" src="img/back-arrow.png" class="logo" />
				<img class="logo" src="img/logo.png" class="logo" />
			</a>
		</section>
		<section id="thankyou-header">
			<h3>Welcome to your SwampHacks 2017 account, <span id="logged-name"></span>!</h3>
			<p>
				Here you can modify your current application information and cancel your confirmation.
				As always, if you need more information or have additional questions, contact us at <a href="mailto:info@swamphacks.com">info@swamphacks.com</a>
			</p>
			<div class="row" style="margin-top: 50px;">
				<div class="col-md-4">
					<a class="btn btn-default" id="mlh" href="https://my.mlh.io/edit" target="_blank">UPDATE INFO</a>
				</div>
				<div class="col-md-4">
					<a class="btn btn-default" id="update">UNREGISTER?</a>
				</div>
				<div class="col-md-4">
					<a class="btn btn-default" id="mentors" href="https://mentors.swamphacks.com" target="_blank">MENTORS</a>
				</div>
				<!--<div class="col-md-4">
					<a class="btn btn-default" id="reimburse">TRAVEL</a>
				</div>-->
			</div>
		</section>
		<section class="cancel" style="display: none;">
			<p style="font-size: 36px; font-weight: bold;">Cancellation</p>
			<p>Sorry that you have to cancel your attendance. For verification purposes, make sure to enter your email address below to confirm cancellation. Please note that once you cancel your attendance, this <span class="asterisk">cannot</span> be undone.</p>
				<form id="form">
				<div class="row">
					<input type="email" class="form-control" placeholder="email@school.edu" aria-describedby="basic-addon1" id="cancel-email" required>
				</div>
			<div id="submit" style="text-align: center;">
				<a class="btn btn-default" id="cancel-attendance">SUBMIT</a>
				<span class="error"></span>
			</div>
				</form>
		</section>
		<!--<section class="travel" style="display: none;">
			<p style="font-size: 36px; font-weight: bold;">Travel</p>
			<p>Use the form below to apply for a travel reimbursement.</p>
			<form id="form">
				<div class="row">
					<label for="location">Where are you traveling from? <span class="asterisk">*</span></label>
					<input type="text" class="form-control" placeholder="City, State" aria-describedby="basic-addon1" id="location" required>
				</div>
				<div class="row">
					<label for="method">How will you be getting here? <span class="asterisk">*</span></label>
					<input type="text" class="form-control" placeholder="Plane, train, jetpack, etc." aria-describedby="basic-addon1" id="method" required>
				</div>
				<div class="row">
					<label for="cost">Please enter the estimated amount of your required reimbursement (in USD). <span class="asterisk">*</span></label>
					<input type="text" class="form-control" placeholder="$555.55" aria-describedby="basic-addon1" id="cost" required>
				</div>
				<div class="row">
					<label for="file" id="travel-file">Upload a receipt or confirmation of purchase for your method of transportation (PDF's only). <span class="asterisk">*</span></label>
					<input type="file" id="resume" class="inputfile" required>
					<label for="resume" class="browse">
						<span style="display: inline-flex; align-items: center;">No file chosen</span> <strong style="display: inline-flex; align-items: center;"> Choose a file...</strong></label>
						<p id="valid-file" style="color: white;"></p>
				</div>
				<div id="submit" style="text-align: center;">
					<a class="btn btn-default" id="submit-travel">SUBMIT</a>
					<span class="travel-error" style="color: white;"></span>
				</div>

			</form>
		</section>-->
	</div>



	<!-- scriptz -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.5.3/firebase.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.3/toastr.min.js"></script>
	<script src="js/keys.js"></script>
	<script src="js/account.js"></script>
	<script type="text/javascript">
	var inputs = document.querySelectorAll( '.inputfile' );
	Array.prototype.forEach.call( inputs, function( input )
	{
		var label	 = input.nextElementSibling,
		labelVal = label.innerHTML;

		input.addEventListener( 'change', function( e )
		{
			var fileName = '';
			if( this.files && this.files.length > 1 )
			fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );
			else
			fileName = e.target.value.split( '\\' ).pop();
			console.log(fileName);
			if (fileName.split('.').pop() != 'pdf') {
				$('#valid-file').text(" Did you upload a PDF? ").show().fadeOut( 3000 );
			}

			if( fileName ) {
				label.querySelector( 'span' ).innerHTML = fileName;
				var resumeSpan = label.querySelector("span");
				var resumeStrong = label.querySelector("strong");
				resumeSpan.classList.add("inputAdded");
				resumeSpan.classList.add("inputAddedText");
				resumeStrong.classList.add("inputAdded");
			}

			else
			label.innerHTML = labelVal;
		});
	});
	</script>
</body>
</html>
